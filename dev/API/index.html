<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · NetcdfIO.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">NetcdfIO.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li><a class="tocitem" href="#Read-variable-size-from-netcdf"><span>Read variable size from netcdf</span></a></li><li><a class="tocitem" href="#Read-variable-from-netcdf"><span>Read variable from netcdf</span></a></li><li><a class="tocitem" href="#Save-variable-to-netcdf"><span>Save variable to netcdf</span></a></li><li><a class="tocitem" href="#Append-variable-to-netcdf"><span>Append variable to netcdf</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Yujie-W/NetcdfIO.jl/blob/master/docs/src/API.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h1><h2 id="Read-variable-size-from-netcdf"><a class="docs-heading-anchor" href="#Read-variable-size-from-netcdf">Read variable size from netcdf</a><a id="Read-variable-size-from-netcdf-1"></a><a class="docs-heading-anchor-permalink" href="#Read-variable-size-from-netcdf" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="NetcdfIO.size_nc" href="#NetcdfIO.size_nc"><code>NetcdfIO.size_nc</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">size_nc(file::String, var::String)</code></pre><p>Return the dimensions and size of a NetCDF dataset, given</p><ul><li><code>file</code> Dataset path</li><li><code>var</code> Variable name</li></ul><hr/><p><strong>Examples</strong></p><pre><code class="language-julia hljs">ndims,sizes = read_nc(&quot;test.nc&quot;, &quot;test&quot;);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/NetcdfIO.jl/blob/189dff5a2d25f95e49dcd766a378fccba037bf09/src/size.jl#L1-L13">source</a></section></article><h2 id="Read-variable-from-netcdf"><a class="docs-heading-anchor" href="#Read-variable-from-netcdf">Read variable from netcdf</a><a id="Read-variable-from-netcdf-1"></a><a class="docs-heading-anchor-permalink" href="#Read-variable-from-netcdf" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="NetcdfIO.read_nc" href="#NetcdfIO.read_nc"><code>NetcdfIO.read_nc</code></a> — <span class="docstring-category">Function</span></header><section><div><p>NCDatasets.jl and NetCDF.jl both provide function to read data out from NC dataset. However, while NetCDF.jl is more convenient to use (less lines of code to read data), NCDatasets.jl is better to     read a subset from the dataset and is able to detect the scale factor and offset. Here, we used a wrapper function to read NC dataset using NCDatasets.jl:</p><pre><code class="language-julia hljs">read_nc(file, var)</code></pre><p>defined at <a href="https://github.com/Yujie-W/NetcdfIO.jl/tree/189dff5a2d25f95e49dcd766a378fccba037bf09//src/read.jl#L29"><code>/home/runner/work/NetcdfIO.jl/NetcdfIO.jl/src/read.jl:29</code></a>.</p><pre><code class="language-julia hljs">read_nc(T, file, var)</code></pre><p>defined at <a href="https://github.com/Yujie-W/NetcdfIO.jl/tree/189dff5a2d25f95e49dcd766a378fccba037bf09//src/read.jl#L59"><code>/home/runner/work/NetcdfIO.jl/NetcdfIO.jl/src/read.jl:59</code></a>.</p><pre><code class="language-julia hljs">read_nc(file, var, indz)</code></pre><p>defined at <a href="https://github.com/Yujie-W/NetcdfIO.jl/tree/189dff5a2d25f95e49dcd766a378fccba037bf09//src/read.jl#L81"><code>/home/runner/work/NetcdfIO.jl/NetcdfIO.jl/src/read.jl:81</code></a>.</p><pre><code class="language-julia hljs">read_nc(T, file, var, indz)</code></pre><p>defined at <a href="https://github.com/Yujie-W/NetcdfIO.jl/tree/189dff5a2d25f95e49dcd766a378fccba037bf09//src/read.jl#L112"><code>/home/runner/work/NetcdfIO.jl/NetcdfIO.jl/src/read.jl:112</code></a>.</p><pre><code class="language-julia hljs">read_nc(file, var, indx, indy)</code></pre><p>defined at <a href="https://github.com/Yujie-W/NetcdfIO.jl/tree/189dff5a2d25f95e49dcd766a378fccba037bf09//src/read.jl#L132"><code>/home/runner/work/NetcdfIO.jl/NetcdfIO.jl/src/read.jl:132</code></a>.</p><pre><code class="language-julia hljs">read_nc(T, file, var, indx, indy)</code></pre><p>defined at <a href="https://github.com/Yujie-W/NetcdfIO.jl/tree/189dff5a2d25f95e49dcd766a378fccba037bf09//src/read.jl#L163"><code>/home/runner/work/NetcdfIO.jl/NetcdfIO.jl/src/read.jl:163</code></a>.</p><pre><code class="language-julia hljs">read_nc(file, var, indx, indy, indz)</code></pre><p>defined at <a href="https://github.com/Yujie-W/NetcdfIO.jl/tree/189dff5a2d25f95e49dcd766a378fccba037bf09//src/read.jl#L184"><code>/home/runner/work/NetcdfIO.jl/NetcdfIO.jl/src/read.jl:184</code></a>.</p><pre><code class="language-julia hljs">read_nc(T, file, var, indx, indy, indz)</code></pre><p>defined at <a href="https://github.com/Yujie-W/NetcdfIO.jl/tree/189dff5a2d25f95e49dcd766a378fccba037bf09//src/read.jl#L212"><code>/home/runner/work/NetcdfIO.jl/NetcdfIO.jl/src/read.jl:212</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/NetcdfIO.jl/blob/189dff5a2d25f95e49dcd766a378fccba037bf09/src/read.jl#L1-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NetcdfIO.read_nc-Tuple{String, String}" href="#NetcdfIO.read_nc-Tuple{String, String}"><code>NetcdfIO.read_nc</code></a> — <span class="docstring-category">Method</span></header><section><div><p>When only file name and variable label are provided, <code>read_nc</code> function reads out all the data:</p><pre><code class="nohighlight hljs">read_nc(file::String, var::String)</code></pre><p>Read data from NC file, given</p><ul><li><code>file</code> Dataset path</li><li><code>var</code> Variable to read</li></ul><p>Note that the missing data will be labeled as NaN.</p><hr/><p>Examples</p><pre><code class="language-julia hljs"># read data labeled as test from test.nc
data = read_nc(&quot;test.nc&quot;, &quot;test&quot;);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/NetcdfIO.jl/blob/189dff5a2d25f95e49dcd766a378fccba037bf09/src/read.jl#L11-L28">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NetcdfIO.read_nc-Tuple{Any, String, String}" href="#NetcdfIO.read_nc-Tuple{Any, String, String}"><code>NetcdfIO.read_nc</code></a> — <span class="docstring-category">Method</span></header><section><div><p>If a float type is given, the data will be converted to T, namely the output will be an array of T type numbers:</p><pre><code class="nohighlight hljs">read_nc(T, file::String, var::String)</code></pre><p>Read data from nc file, given</p><ul><li><code>T</code> Number type</li><li><code>file</code> Dataset path</li><li><code>var</code> Variable name</li></ul><hr/><p>Examples</p><pre><code class="language-julia hljs"># read data labeled as test from test.nc as Float32
data = read_nc(Float32, &quot;test.nc&quot;, &quot;test&quot;);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/NetcdfIO.jl/blob/189dff5a2d25f95e49dcd766a378fccba037bf09/src/read.jl#L42-L58">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NetcdfIO.read_nc-Tuple{String, String, Int64}" href="#NetcdfIO.read_nc-Tuple{String, String, Int64}"><code>NetcdfIO.read_nc</code></a> — <span class="docstring-category">Method</span></header><section><div><p>In many cases, the NC dataset can be very huge, and reading all the data points into one array could be time and memory consuming. In this case, reading a subset of data would be the best option:</p><pre><code class="nohighlight hljs">read_nc(file::String, var::String, indz::Int)</code></pre><p>Read a subset from nc file, given</p><ul><li><code>file</code> Dataset path</li><li><code>var</code> Variable name</li><li><code>indz</code> The 3rd index of subset data to read</li></ul><p>Note that the dataset must be a 3D array to use this method.</p><hr/><p>Examples</p><pre><code class="language-julia hljs"># read 1st layer data labeled as test from test.nc
data = read_nc(&quot;test.nc&quot;, &quot;test&quot;, 1);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/NetcdfIO.jl/blob/189dff5a2d25f95e49dcd766a378fccba037bf09/src/read.jl#L62-L80">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NetcdfIO.read_nc-Tuple{Any, String, String, Int64}" href="#NetcdfIO.read_nc-Tuple{Any, String, String, Int64}"><code>NetcdfIO.read_nc</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Similarly, one may want to read the subset as a certain type using</p><pre><code class="nohighlight hljs">read_nc(T, file::String, var::String, indz::Int)</code></pre><p>Read a subset from nc file, given</p><ul><li><code>T</code> Number type</li><li><code>file</code> Dataset path</li><li><code>var</code> Variable name</li><li><code>indz</code> The 3rd index of subset data to read</li></ul><hr/><p>Examples</p><pre><code class="language-julia hljs"># read 1st layer data labeled as test from test.nc as Float32
data = read_nc(Float32, &quot;test.nc&quot;, &quot;test&quot;, 1);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/NetcdfIO.jl/blob/189dff5a2d25f95e49dcd766a378fccba037bf09/src/read.jl#L94-L111">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NetcdfIO.read_nc-Tuple{String, String, Int64, Int64}" href="#NetcdfIO.read_nc-Tuple{String, String, Int64, Int64}"><code>NetcdfIO.read_nc</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Another convenient wrapper is to read all the data for given index in x and y, for example, if one wants to read the time series of data at a given site:</p><pre><code class="nohighlight hljs">read_nc(file::String, var::String, indx::Int, indy::Int)</code></pre><p>Read the time series of data for a site, given</p><ul><li><code>file</code> Dataset path</li><li><code>var</code> Variable name</li><li><code>indx</code> The 1st index of subset data to read, typically longitude</li><li><code>indy</code> The 2nd index of subset data to read, typically latitude</li></ul><hr/><p>Examples</p><pre><code class="language-julia hljs">data = read_nc(&quot;test.nc&quot;, &quot;test&quot;, 1, 1);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/NetcdfIO.jl/blob/189dff5a2d25f95e49dcd766a378fccba037bf09/src/read.jl#L115-L131">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NetcdfIO.read_nc-Tuple{Any, String, String, Int64, Int64}" href="#NetcdfIO.read_nc-Tuple{Any, String, String, Int64, Int64}"><code>NetcdfIO.read_nc</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Similarly, one may want to read the subset as a certain type using</p><pre><code class="nohighlight hljs">read_nc(T, file::String, var::String, indx::Int, indy::Int)</code></pre><p>Read the time series of data for a site, given</p><ul><li><code>T</code> Number type</li><li><code>file</code> Dataset path</li><li><code>var</code> Variable name</li><li><code>indx</code> The 1st index of subset data to read, typically longitude</li><li><code>indy</code> The 2nd index of subset data to read, typically latitude</li></ul><hr/><p>Examples</p><pre><code class="language-julia hljs">data = read_nc(Float32, &quot;test.nc&quot;, &quot;test&quot;, 1, 1);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/NetcdfIO.jl/blob/189dff5a2d25f95e49dcd766a378fccba037bf09/src/read.jl#L145-L162">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NetcdfIO.read_nc-Tuple{String, String, Int64, Int64, Int64}" href="#NetcdfIO.read_nc-Tuple{String, String, Int64, Int64, Int64}"><code>NetcdfIO.read_nc</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Another convenient wrapper is to read the data for given index in x, y, and z, for example, if one wants to read the time series of data at a given site:</p><pre><code class="nohighlight hljs">read_nc(file::String, var::String, indx::Int, indy::Int, indz::Int)</code></pre><p>Read the time series of data for a site, given</p><ul><li><code>file</code> Dataset path</li><li><code>var</code> Variable name</li><li><code>indx</code> The 1st index of subset data to read, typically longitude</li><li><code>indy</code> The 2nd index of subset data to read, typically latitude</li><li><code>indz</code> The 3rd index of subset data to read, typically time</li></ul><hr/><p>Examples</p><pre><code class="language-julia hljs">data = read_nc(&quot;test.nc&quot;, &quot;test&quot;, 1, 1, 1);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/NetcdfIO.jl/blob/189dff5a2d25f95e49dcd766a378fccba037bf09/src/read.jl#L166-L183">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NetcdfIO.read_nc-Tuple{Any, String, String, Int64, Int64, Int64}" href="#NetcdfIO.read_nc-Tuple{Any, String, String, Int64, Int64, Int64}"><code>NetcdfIO.read_nc</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Similarly, one may want to read the data as a certain type using</p><pre><code class="nohighlight hljs">read_nc(T, file::String, var::String, indx::Int, indy::Int, indz::Int)</code></pre><p>Read the time series of data for a site, given</p><ul><li><code>T</code> Number type</li><li><code>file</code> Dataset path</li><li><code>var</code> Variable name</li><li><code>indx</code> The 1st index of subset data to read, typically longitude</li><li><code>indy</code> The 2nd index of subset data to read, typically latitude</li><li><code>indz</code> The 3rd index of subset data to read, typically time</li></ul><hr/><p>Examples</p><pre><code class="language-julia hljs">data = read_nc(Float32, &quot;test.nc&quot;, &quot;test&quot;, 1, 1, 1);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/NetcdfIO.jl/blob/189dff5a2d25f95e49dcd766a378fccba037bf09/src/read.jl#L193-L211">source</a></section></article><h2 id="Save-variable-to-netcdf"><a class="docs-heading-anchor" href="#Save-variable-to-netcdf">Save variable to netcdf</a><a id="Save-variable-to-netcdf-1"></a><a class="docs-heading-anchor-permalink" href="#Save-variable-to-netcdf" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="NetcdfIO.save_nc!" href="#NetcdfIO.save_nc!"><code>NetcdfIO.save_nc!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>NCDatasets.jl does not have a convenient function (1 line command) to save dataset as a file. Thus, we provide a few methods as supplements:</p><pre><code class="language-julia hljs">save_nc!(file, var_name, var_attr, var_data, atts_name, atts_attr, atts_data, notes; compress)</code></pre><p>defined at <a href="https://github.com/Yujie-W/NetcdfIO.jl/tree/189dff5a2d25f95e49dcd766a378fccba037bf09//src/save.jl#L79"><code>/home/runner/work/NetcdfIO.jl/NetcdfIO.jl/src/save.jl:79</code></a>.</p><pre><code class="language-julia hljs">save_nc!(file, var_name, var_attr, var_data; notes, compress)</code></pre><p>defined at <a href="https://github.com/Yujie-W/NetcdfIO.jl/tree/189dff5a2d25f95e49dcd766a378fccba037bf09//src/save.jl#L153"><code>/home/runner/work/NetcdfIO.jl/NetcdfIO.jl/src/save.jl:153</code></a>.</p><pre><code class="language-julia hljs">save_nc!(file, var_names, var_attrs, df; notes, compress)</code></pre><p>defined at <a href="https://github.com/Yujie-W/NetcdfIO.jl/tree/189dff5a2d25f95e49dcd766a378fccba037bf09//src/save.jl#L216"><code>/home/runner/work/NetcdfIO.jl/NetcdfIO.jl/src/save.jl:216</code></a>.</p><pre><code class="language-julia hljs">save_nc!(file, df; notes, compress)</code></pre><p>defined at <a href="https://github.com/Yujie-W/NetcdfIO.jl/tree/189dff5a2d25f95e49dcd766a378fccba037bf09//src/save.jl#L250"><code>/home/runner/work/NetcdfIO.jl/NetcdfIO.jl/src/save.jl:250</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/NetcdfIO.jl/blob/189dff5a2d25f95e49dcd766a378fccba037bf09/src/save.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NetcdfIO.save_nc!-Union{Tuple{N}, Tuple{T}, Tuple{String, String, Dict{String, String}, Array{T, N}, Vector{String}, Vector{Dict{String, String}}, Vector{Vector}, Dict{String, String}}} where {T&lt;:Union{Int64, AbstractFloat, String}, N}" href="#NetcdfIO.save_nc!-Union{Tuple{N}, Tuple{T}, Tuple{String, String, Dict{String, String}, Array{T, N}, Vector{String}, Vector{Dict{String, String}}, Vector{Vector}, Dict{String, String}}} where {T&lt;:Union{Int64, AbstractFloat, String}, N}"><code>NetcdfIO.save_nc!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>This method is a case if one wants to save both variable and attributes into the target file. This method support saving multiple (N) dimension arrays:</p><pre><code class="nohighlight hljs">save_nc!(file::String,
         var_name::String,
         var_attr::Dict{String,String},
         var_data::Array{T,N},
         atts_name::Vector{String},
         atts_attr::Vector{Dict{String,String}},
         atts_data::Vector{Vector},
         notes::Dict{String,String};
         compress::Int = 4
) where {T&lt;:Union{AbstractFloat,Int,String},N}</code></pre><p>Save dataset as NC file, given</p><ul><li><code>file</code> Path to save the dataset</li><li><code>var_name</code> Variable name for the data in the NC file</li><li><code>var_attr</code> Variable attributes for the data, such as unit and long name</li><li><code>var_data</code> Data to save</li><li><code>atts_name</code> vector of supporting attribute labels, such as <code>lat</code> and <code>lon</code></li><li><code>atts_attr</code> Vector of attributes for the supporting attributes, such as unit</li><li><code>atts_data</code> Vector of attributes data, such as the latitude range</li><li><code>notes</code> Global attributes (notes)</li><li><code>compress</code> Compression level fro NetCDF, default is 4</li></ul><hr/><p>Examples</p><pre><code class="language-julia hljs"># generate data to write into NC file
lats = collect(Float64, -85:10:85);
lons = collect(Float64, -175:10:175);
inds = collect(Int, 1:12);
data1 = rand(18) .+ 273.15;
data2 = rand(36,18) .+ 273.15;
data3 = rand(36,18,12) .+ 273.15;

# define the attributes of the dimensions and data
attrn = Dict(&quot;description&quot; =&gt; &quot;Random temperature&quot;, &quot;unit&quot; =&gt; &quot;K&quot;);
latat = Dict(&quot;description&quot; =&gt; &quot;Latitude&quot;, &quot;unit&quot; =&gt; &quot;°&quot;);
lonat = Dict(&quot;description&quot; =&gt; &quot;Longitude&quot;, &quot;unit&quot; =&gt; &quot;°&quot;);
indat = Dict(&quot;description&quot; =&gt; &quot;Cycle index&quot;, &quot;unit&quot; =&gt; &quot;-&quot;);

# define attributes names, information, and data
atts_name1 = [&quot;lat&quot;];
atts_name2 = [&quot;lon&quot;, &quot;lat&quot;];
atts_name3 = [&quot;lon&quot;, &quot;lat&quot;, &quot;ind&quot;];
atts_attr1 = [latat];
atts_attr2 = [lonat, latat];
atts_attr3 = [lonat, latat, indat];
atts_data1 = Any[lats];
atts_data2 = Any[lons, lats];
atts_data3 = Any[lons, lats, inds];
notes = Dict(&quot;description&quot; =&gt; &quot;This is a file generated using PkgUtility.jl&quot;, &quot;notes&quot; =&gt; &quot;PkgUtility.jl uses NCDatasets.jl to create NC files&quot;);

# save data as NC files (1D, 2D, and 3D)
save_nc!(&quot;data1.nc&quot;, &quot;data1&quot;, attrn, data1, atts_name1, atts_attr1, atts_data1, notes);
save_nc!(&quot;data2.nc&quot;, &quot;data2&quot;, attrn, data2, atts_name2, atts_attr2, atts_data2, notes);
save_nc!(&quot;data3.nc&quot;, &quot;data3&quot;, attrn, data3, atts_name3, atts_attr3, atts_data3, notes);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/NetcdfIO.jl/blob/189dff5a2d25f95e49dcd766a378fccba037bf09/src/save.jl#L10-L69">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NetcdfIO.save_nc!-Union{Tuple{N}, Tuple{T}, Tuple{String, String, Dict{String, String}, Array{T, N}}} where {T&lt;:Union{Int64, AbstractFloat, String}, N}" href="#NetcdfIO.save_nc!-Union{Tuple{N}, Tuple{T}, Tuple{String, String, Dict{String, String}, Array{T, N}}} where {T&lt;:Union{Int64, AbstractFloat, String}, N}"><code>NetcdfIO.save_nc!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>To save the code and effort to redefine the common attributes like latitude, longitude, and cycle index, we provide a shortcut method that handles these within the function:</p><pre><code class="nohighlight hljs">save_nc!(file::String,
         var_name::String,
         var_attr::Dict{String,String},
         var_data::Array{T,N};
         notes::Dict{String,String} = ATTR_ABOUT,
         compress::Int = 4
) where {T&lt;:Union{AbstractFloat,Int,String},N}</code></pre><p>Save the 2D or 3D data as NC file, given</p><ul><li><code>file</code> Path to save the dataset</li><li><code>var_name</code> Variable name for the data in the NC file</li><li><code>var_attr</code> Variable attributes for the data, such as unit and long name</li><li><code>var_data</code> Data to save</li><li><code>notes</code> Global attributes (notes)</li><li><code>compress</code> Compression level fro NetCDF, default is 4</li></ul><hr/><p>Examples</p><pre><code class="language-julia hljs"># generate data to write into NC file
data2 = rand(36,18) .+ 273.15;
data3 = rand(36,18,12) .+ 273.15;

# define the attributes and notes
attrn = Dict(&quot;description&quot; =&gt; &quot;Random temperature&quot;, &quot;unit&quot; =&gt; &quot;K&quot;);
notes = Dict(&quot;description&quot; =&gt; &quot;This is a file generated using PkgUtility.jl&quot;, &quot;notes&quot; =&gt; &quot;PkgUtility.jl uses NCDatasets.jl to create NC files&quot;);

# save data as NC files (2D and 3D)
save_nc!(&quot;data2.nc&quot;, &quot;data2&quot;, attrn, data2);
save_nc!(&quot;data2.nc&quot;, &quot;data2&quot;, attrn, data2; notes=notes);
save_nc!(&quot;data3.nc&quot;, &quot;data3&quot;, attrn, data3);
save_nc!(&quot;data3.nc&quot;, &quot;data3&quot;, attrn, data3; notes=notes);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/NetcdfIO.jl/blob/189dff5a2d25f95e49dcd766a378fccba037bf09/src/save.jl#L110-L146">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NetcdfIO.save_nc!-Tuple{String, Vector{String}, Vector{Dict{String, String}}, DataFrames.DataFrame}" href="#NetcdfIO.save_nc!-Tuple{String, Vector{String}, Vector{Dict{String, String}}, DataFrames.DataFrame}"><code>NetcdfIO.save_nc!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>This method saves DataFrame as a NetCDF file to save more space (compared to a CSV file).</p><pre><code class="nohighlight hljs">save_nc!(file::String, var_names::Vector{String}, var_attrs::Vector{Dict{String,String}}, df::DataFrame; notes::Dict{String,String} = ATTR_ABOUT, compress::Int = 4)</code></pre><p>Save DataFrame to NetCDF, given</p><ul><li><code>file</code> Path to save the data</li><li><code>var_names</code> The label of data in DataFrame to save</li><li><code>var_attrs</code> Variable attributes for the data to save</li><li><code>df</code> DataFrame to save</li><li><code>notes</code> Global attributes (notes)</li><li><code>compress</code> Compression level fro NetCDF, default is 4</li></ul><hr/><p><strong>Examples</strong></p><pre><code class="language-julia hljs">df = DataFrame();
df[!,&quot;A&quot;] = rand(5);
df[!,&quot;B&quot;] = rand(5);
df[!,&quot;C&quot;] = rand(5);
save_nc!(&quot;test.nc&quot;, [&quot;A&quot;,&quot;B&quot;], [Dict(&quot;A&quot; =&gt; &quot;Attribute A&quot;), Dict(&quot;B&quot; =&gt; &quot;Attribute B&quot;)], df);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/NetcdfIO.jl/blob/189dff5a2d25f95e49dcd766a378fccba037bf09/src/save.jl#L193-L215">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NetcdfIO.save_nc!-Tuple{String, DataFrames.DataFrame}" href="#NetcdfIO.save_nc!-Tuple{String, DataFrames.DataFrame}"><code>NetcdfIO.save_nc!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>This method is a simplified version of the method above, namely when users do not want to define the attributes.</p><pre><code class="nohighlight hljs">save_nc!(file::String, df::DataFrame; notes::Dict{String,String} = ATTR_ABOUT, compress::Int = 4)</code></pre><p>Save DataFrame to NetCDF, given</p><ul><li><code>file</code> Path to save the data</li><li><code>df</code> DataFrame to save</li><li><code>notes</code> Global attributes (notes)</li><li><code>compress</code> Compression level fro NetCDF, default is 4</li></ul><hr/><p><strong>Examples</strong></p><pre><code class="language-julia hljs">df = DataFrame();
df[!,&quot;A&quot;] = rand(5);
df[!,&quot;B&quot;] = rand(5);
df[!,&quot;C&quot;] = rand(5);
save_nc!(&quot;test.nc&quot;, df);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/NetcdfIO.jl/blob/189dff5a2d25f95e49dcd766a378fccba037bf09/src/save.jl#L229-L249">source</a></section></article><h2 id="Append-variable-to-netcdf"><a class="docs-heading-anchor" href="#Append-variable-to-netcdf">Append variable to netcdf</a><a id="Append-variable-to-netcdf-1"></a><a class="docs-heading-anchor-permalink" href="#Append-variable-to-netcdf" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="NetcdfIO.append_nc!" href="#NetcdfIO.append_nc!"><code>NetcdfIO.append_nc!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>NCDatasets.jl does not have a convenient function (1 line command) to append dataset into a file. Thus, we provide a few methods as supplements:</p><pre><code class="language-julia hljs">append_nc!(file, var_name, var_attr, var_data, atts_name, atts_attr, atts_data; compress)</code></pre><p>defined at <a href="https://github.com/Yujie-W/NetcdfIO.jl/tree/189dff5a2d25f95e49dcd766a378fccba037bf09//src/append.jl#L76"><code>/home/runner/work/NetcdfIO.jl/NetcdfIO.jl/src/append.jl:76</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/NetcdfIO.jl/blob/189dff5a2d25f95e49dcd766a378fccba037bf09/src/append.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NetcdfIO.append_nc!-Union{Tuple{N}, Tuple{FT}, Tuple{String, String, Dict{String, String}, Array{FT, N}, Vector{String}, Vector{Dict{String, String}}, Vector}} where {FT&lt;:AbstractFloat, N}" href="#NetcdfIO.append_nc!-Union{Tuple{N}, Tuple{FT}, Tuple{String, String, Dict{String, String}, Array{FT, N}, Vector{String}, Vector{Dict{String, String}}, Vector}} where {FT&lt;:AbstractFloat, N}"><code>NetcdfIO.append_nc!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>This method append data to an exisiting NC file. If the attributes exist already, then only save the data:</p><pre><code class="nohighlight hljs">append_nc!(file::String,
           var_name::String,
           var_attr::Dict{String,String},
           var_data::Array{FT,N},
           atts_name::Vector{String},
           atts_attr::Vector{Dict{String,String}},
           atts_data::Vector;
           compress::Int = 4
) where {FT&lt;:AbstractFloat,N}</code></pre><p>Append data to existing file, given</p><ul><li><code>file</code> Path to save the dataset</li><li><code>var_name</code> Variable name for the data in the NC file</li><li><code>var_attr</code> Variable attributes for the data, such as unit and long name</li><li><code>var_data</code> Data to save</li><li><code>atts_name</code> vector of supporting attribute labels, such as <code>lat</code> and <code>lon</code></li><li><code>atts_attr</code> Vector of attributes for the supporting attributes, such as unit</li><li><code>atts_data</code> Vector of attributes data, such as the latitude range</li><li><code>compress</code> Compression level fro NetCDF, default is 4</li></ul><hr/><p>Examples</p><pre><code class="language-julia hljs"># generate data to write into NC file
lats = collect(Float64, -85:10:85);
lons = collect(Float64, -175:10:175);
inds = collect(Int, 1:12);
data1 = rand(18) .+ 273.15;
data2 = rand(36,18) .+ 273.15;
data3 = rand(36,18,12) .+ 273.15;

# define the attributes of the dimensions and data
attrn = Dict(&quot;description&quot; =&gt; &quot;Random temperature&quot;, &quot;unit&quot; =&gt; &quot;K&quot;);
latat = Dict(&quot;description&quot; =&gt; &quot;Latitude&quot;, &quot;unit&quot; =&gt; &quot;°&quot;);
lonat = Dict(&quot;description&quot; =&gt; &quot;Longitude&quot;, &quot;unit&quot; =&gt; &quot;°&quot;);
indat = Dict(&quot;description&quot; =&gt; &quot;Cycle index&quot;, &quot;unit&quot; =&gt; &quot;-&quot;);

# define attributes names, information, and data
atts_name1 = [&quot;lat&quot;];
atts_name2 = [&quot;lon&quot;, &quot;lat&quot;];
atts_name3 = [&quot;lon&quot;, &quot;lat&quot;, &quot;ind&quot;];
atts_attr1 = [latat];
atts_attr2 = [lonat, latat];
atts_attr3 = [lonat, latat, indat];
atts_data1 = Any[lats];
atts_data2 = Any[lons, lats];
atts_data3 = Any[lons, lats, inds];
notes = Dict(&quot;description&quot; =&gt; &quot;This is a file generated using PkgUtility.jl&quot;, &quot;notes&quot; =&gt; &quot;PkgUtility.jl uses NCDatasets.jl to create NC files&quot;);

# save data as NC files (1D, 2D, and 3D)
append_nc!(&quot;data1.nc&quot;, &quot;datax&quot;, attrn, data1, atts_name1, atts_attr1, atts_data1);
append_nc!(&quot;data2.nc&quot;, &quot;datax&quot;, attrn, data2, atts_name2, atts_attr2, atts_data2);
append_nc!(&quot;data3.nc&quot;, &quot;datax&quot;, attrn, data3, atts_name3, atts_attr3, atts_data3);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/NetcdfIO.jl/blob/189dff5a2d25f95e49dcd766a378fccba037bf09/src/append.jl#L10-L67">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.10 on <span class="colophon-date" title="Wednesday 29 December 2021 08:01">Wednesday 29 December 2021</span>. Using Julia version 1.7.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
